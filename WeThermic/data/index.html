<!doctype html><html lang=fr><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=description content="Anémomètre Thermomètre Barmoètre"><title>!WeThermic</title><link rel="shortcut icon" type=image/png href=images/favicon.svg><link id=cssMain rel=stylesheet href=style_principal.css><script src=scripts.js></script>
<script src=chartjs/chart.umd.js></script>
<script src=chartjs/luxon.min.js></script>
<script src=chartjs/chartjs-adapter-luxon.min.js></script>
<script src=chartjs/chartjs-plugin-streaming.min.js></script><body onload=index_onload() onresize=index_resize()><div id=lapage><div id=container0 class=graph_container></div><div id=container1 class=graph_container></div><div id=container2 class=graph_container></div><div class=topRight><div><image id=boutonSettings class="btn top10" onclick=changeSettings(); src=images/settings.svg></div><div><image id=boutonChrono class=btn onclick=toggleChrono(); src=images/chrono.svg></div><div><image id=boutonSon class="btn noshow" onclick=toggleSon(); src=images/sound-on.svg></div></div><div><span id=fullScreenButton onclick=toggleFullscreen()><br>View in full screen<br>&nbsp;</span>
<span id=refreshButton onclick=refreshPage()><br>Refresh graphics<br>&nbsp;</span></div><hr><p><span id=bottomSSID></span><br>WeThermic <span id=version>v0.0.00000000</span> - Copyright © Gauthier Brière (<a href=https://github.com/fra589>fra589</a>) - 2024-2024</p><div id=settingsDialog class="settingsDialog noshow"><span class=fLeft><image id=boutonReboot class="btn top10" src=images/reboot.svg title="Reboot weather station" onclick=reboot();></span><span class=fLeft><image id=boutonReset class="btn top10" src=images/factory.svg title="Reset preferences to default" onclick=resetSettings();></span><span class=fLeft><image id=boutoWakeup class="btn top10" src=images/wakeup.svg title="Wake up station screen" onclick=wakeup();></span><div class=fRight><image id=boutonClose class="btn top10" src=images/close.svg title="Close settings" onclick=closeSettings();></div><h1>Settings :</h1><hr id=ligneHaut><fieldset class=settingFieldset id=colorTheme><legend>Color theme</legend><div id=fondColorTheme><span><input type=radio name=theme id=sombre value=sombre onchange='changeTheme("sombre")' checked>
<label for=sombre>Dark</label>
&nbsp;
<input type=radio name=theme id=clair value=clair onchange='changeTheme("clair")'>
<label for=clair>Clear</label></span><table id=activeColors><tbody><tr id=actr1><td><div id=iw class=colorButton onclick='openColor("iw")'></div><td>Instand wind<td><div id=ip class=colorButton onclick='openColor("ip")'></div><td>Instand pressure<td><div id=it class=colorButton onclick='openColor("it")'></div><td>Instand temperature<tr id=actr2><td><div id=aw class=colorButton onclick='openColor("aw")'></div><td>Average wind<td><div id=ap class=colorButton onclick='openColor("ap")'></div><td>Average pressure<td><div id=at class=colorButton onclick='openColor("at")'></div><td>Average temperature</table></div></fieldset><fieldset class=settingFieldset id=graphOrder><legend>Graph order</legend>
<span><table id=tblGraphOrder><tbody><tr><td>Upper graph:<td><input type=radio name=gOrder0 id=gOrder00 onchange=changeGraphOrder(this) value=Wind><label for=gOrder00>Wind</label><td><input type=radio name=gOrder0 id=gOrder01 onchange=changeGraphOrder(this) value=Pressure><label for=gOrder01>Pressure</label><td><input type=radio name=gOrder0 id=gOrder02 onchange=changeGraphOrder(this) value=Temperature><label for=gOrder02>Temperature</label><tr><td>Middle graph:<td><input type=radio name=gOrder1 id=gOrder10 onchange=changeGraphOrder(this) value=Wind><label for=gOrder10>Wind</label><td><input type=radio name=gOrder1 id=gOrder11 onchange=changeGraphOrder(this) value=Pressure><label for=gOrder11>Pressure</label><td><input type=radio name=gOrder1 id=gOrder12 onchange=changeGraphOrder(this) value=Temperature><label for=gOrder12>Temperature</label><tr><td>Bottom graph:<td><input type=radio name=gOrder2 id=gOrder20 onchange=changeGraphOrder(this) value=Wind><label for=gOrder20>Wind</label><td><input type=radio name=gOrder2 id=gOrder21 onchange=changeGraphOrder(this) value=Pressure><label for=gOrder21>Pressure</label><td><input type=radio name=gOrder2 id=gOrder22 onchange=changeGraphOrder(this) value=Temperature><label for=gOrder22>Temperature</label></table></span></fieldset><fieldset class=settingFieldset id=dureeFieldset><legend>Graph time length / refresh</legend>
<span class=nowarp><input type=radio name=rDuree id=d500 value=500 onchange=changeDuree(500) checked>
<label for=d500>5 mn / 0.5 s</label>
&nbsp;
<input type=radio name=rDuree id=d1000 value=1000 onchange=changeDuree(1e3)>
<label for=d1000>10 mn / 1 s</label>
&nbsp;
<input type=radio name=rDuree id=d2000 value=2000 onchange=changeDuree(2e3)>
<label for=d2000>20 mn / 2 s</label></span></fieldset><fieldset class=settingFieldset id=graphFieldset><legend>Average calculations</legend><p class=leftAlign><label class=nowarp>wind&nbsp;<input type=range class=fullWidth id=lMoyVent name=lMoyVent min=1 max=10 value=2 step=1 onchange=changeLargeurVent() oninput=inputLargeurVent()>&nbsp;<span id=valMoyVent>1:30</span></label><p class=leftAlign><label class=nowarp>pres&nbsp;<input type=range class=fullWidth id=lMoyPres name=lMoyPres min=1 max=10 value=2 step=1 onchange=changeLargeurPres() oninput=inputLargeurPres()>&nbsp;<span id=valMoyPres>1:30</span></label><p class=leftAlign><label class=nowarp>temp&nbsp;<input type=range class=fullWidth id=lMoyTemp name=lMoyTemp min=1 max=10 value=2 step=1 onchange=changeLargeurTemp() oninput=inputLargeurTemp()>&nbsp;<span id=valMoyTemp>1:30</span></label></fieldset><hr><h2>WiFi network configuration</h2><div id=apConfig><div class=tblPwd><label for=apSSID>Access Point SSID</label>
<input name=apSSID id=apSSID maxlength=32 oninput="apConfigChange=!0,inputConfigAP()"><br><label for=apPwd1>Access Point password</label>
<input type=password name=apPwd1 id=apPwd1 maxlength=63 title="Enter AP password:
min len=8, max len=63
or leave it empty for no password." oninput="apConfigChange=!0,inputConfigAP()"><br><label for=apPwd2>Repeat AP password</label>
<input type=password name=apPwd2 id=apPwd2 maxlength=63 oninput="apConfigChange=!0,inputConfigAP()"></div><div class=tblPwdCenter><span><image id=btnShowPasswd src=images/oeuil.svg title="Show password" onclick="toogleShowPasswd('ap');"></span><span><image id=btnValideAP src=images/valid-disable.svg title="Update APconfig" onclick=updateAPconfig();></span></div></div><hr><div id=activeNetwork><label for=ssidActuel>Actual network, SSID =</label>
<input name=ssidActuel id=ssidActuel readonly><br><label for=ipActuel>Actual network, IP =</label>
<input name=ipActuel id=ipActuel readonly><div id=btnDeconnect title="Disconnect from current network..." onclick=deconnect_clique()>Disconnect...</div></div><hr class=lignePartielle><div id=networkTable></div><span class=fRight onclick=get_networks()><image id=boutonRefresh class=btn src=images/refresh.svg></span><div id=colorChooser class=noshow><table id=colorTable><tbody><tr><td style=background-color:#000 id=color.0.0.0 onclick=clickColor(0,0,0)><td style=background-color:#7f0000 id=color.127.0.0 onclick=clickColor(127,0,0)><td style=background-color:#007f00 id=color.0.127.0 onclick=clickColor(0,127,0)><td style=background-color:#00007f id=color.0.0.127 onclick=clickColor(0,0,127)><tr><td style=background-color:#7f7f7f id=color.127.127.127 onclick=clickColor(127,127,127)><td style=background-color:red id=color.255.0.0 onclick=clickColor(255,0,0)><td style=background-color:#0f0 id=color.0.255.0 onclick=clickColor(0,255,0)><td style=background-color:#00f id=color.0.0.255 onclick=clickColor(0,0,255)><tr><td style=background-color:#fff id=color.255.255.255 onclick=clickColor(255,255,255)><td style=background-color:#ff007f id=color.255.0.127 onclick=clickColor(255,0,127)><td style=background-color:#7fff00 id=color.127.255.0 onclick=clickColor(127,255,0)><td style=background-color:#0ff id=color.0.255.255 onclick=clickColor(0,255,255)><tr><td style=background-color:#ff7f00 id=color.255.127.0 onclick=clickColor(255,127,0)><td style=background-color:#f0f id=color.255.0.255 onclick=clickColor(255,0,255)><td style=background-color:#ff0 id=color.255.255.0 onclick=clickColor(255,255,0)><td style=background-color:#7f00ff id=color.127.0.255 onclick=clickColor(127,0,255)></table><div><button id=cancelButton class=fRight onclick=closeColor()>Cancel</button>
<button id=okButton class=fRight onclick=setColor()>Set color</button>
<span id=colorResult></span></div><div class=clear></div></div><div id=dlgMask0 class="dlgMask noshow"><div id=dlgConnect class="dialog masquer"><div id=dlgContenu0 class=dlgPwdContenu><h2>Connect to a new WiFi</h2><p><label for=ssid_input>Connecting to network: SSID =</label>
<input name=ssid_input id=ssid_input readonly><br><label for=pwd_input>Enter network password:</label>
<input type=password name=pwd_input id=pwd_input onkeyup=connect_keyup(event)><br><span><image id=btnShowCliPasswd src=images/oeuil.svg title="Show password" onclick="toogleShowPasswd('cli');"></span></div><p class=alignement-droit id=dlgConnectButtons><button id=btnConnect title="Se connecter au réseau" onclick=connect_clique()>
Connect</button>
&nbsp;
<button id=btnAnnuler title="Fermer cette boite de dialogue" onclick=connect_cancel()>
Cancel</button></div></div></div><div id=cadre_attente><div id=attente0 class=attente></div></div><div id=cadre_chrono class=noshow><span id=chrono0>07:00</span>&nbsp;<span><image id=btnChrono src=images/start-chrono.svg title="Reset chrono" onclick=startStopChrono();></span></div></div>